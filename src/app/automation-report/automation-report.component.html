<div *ngIf="componentLoading" class="row">
    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center">
        <div style="height: 80vh;
                          display: flex;
                          align-items: center;
                          margin-left: 48%;">
            <div>
                <img src="assets/images/loading.gif" height="50"/>
            </div>
        </div>
    </div>
</div>

<div class="denied-block" *ngIf="!componentLoading && !hasViewPagePermissions()">
    <div class="col-lg-12 col-md-12">
        <h5 class="denied-block-text"> Permission
            denied to view Test Results</h5>
    </div>
</div>

<div style="text-align: center; margin-top: 20%" *ngIf="!componentLoading && hasViewPagePermissions() && isError">
    <h4>Data not found!</h4>
    <div>There is no automation test results associated with your partner account.</div>
<!--    <button mat-raised-button class="apiplatform-btn" color="primary"-->
<!--            routerLink="/testsuite" style="margin-top: 10px;">Create Test Suite API-->
<!--    </button>-->
</div>

<div *ngIf="!componentLoading && hasViewPagePermissions() && !isError" class="col-lg-12 col-md-12">
    <mat-card class="main-container">
        <div>
            <mat-sidenav-container class="sidenav-full" style="height: 88vh;">
                <mat-sidenav #sidenav2 opened mode="side" position="start" role="navigation" class="sidenav-wv" style="width: 240px">

                    <div fxLayout="column" class="sidenav-normal">
                        <mat-toolbar class="nav-bar-h" (click)="currentActiveIndex=-1"> Build History</mat-toolbar>
                        <mat-nav-list style="padding-top: 55px;">
                            <mat-list-item *ngFor="let result of buildsData; let i = index" class="list-item" [ngClass]="i===currentActiveIndex?'lt-i-active':''" (click)="setResult(result['id'], i)">
                                <a
                                    aria-controls="profile"
                                    role="tab" data-toggle="tab"><div class="nav-li-h">{{result['name']}}</div>
                             <div class="nav-li-sb">{{getDataAndTime(result['startedAt'])}}</div></a>
                            </mat-list-item>
                        </mat-nav-list>
                    </div>
                </mat-sidenav>
                <mat-sidenav-content>
                    <div style="padding-left: 5px">
                        <ng-container *ngIf="currentActiveIndex === -1">
                            <mat-toolbar role="toolbar" class="main-header mat-elevation-z1 sticky-header">
                                <mat-toolbar-row>
                                    Gilded Web App automation
                                </mat-toolbar-row>
                            </mat-toolbar>

                            <div class="side-container">
                                <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 card-row chart-container">
                                    <mat-card class="col-lg-6 col-md-6">
                                        <span style="font-size: 14px"><b>Test Result Trend</b></span>
                                        <div>
                                            <canvas baseChart width="250" height="250"
                                                    [datasets]="lineChartData"
                                                    [labels]="lineChartLabels"
                                                    [options]="lineChartOptions"
                                                    [colors]="lineChartColors"
                                                    [legend]="lineChartLegend"
                                                    [chartType]="lineChartType"
                                                    [plugins]="lineChartPlugins">
                                            </canvas>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>
                        </ng-container>

                        <ng-container *ngIf="currentActiveIndex > -1">
                            <mat-toolbar role="toolbar" class="main-header mat-elevation-z1 sticky-header">
                                <mat-toolbar-row>
                                    {{buildsData[currentActiveIndex]['name']}}
                                </mat-toolbar-row>
                            </mat-toolbar>

                            <div class="side-container">
                                <app-build-report *ngIf="!buildDataLoading && showBuild"
                                                 [reportName]="'Report'"
                                                 [buildData]="currentBuild"
                                                  [testCasesData]="buildData"
                                ></app-build-report>
                            </div>
                        </ng-container>

                    </div>

                </mat-sidenav-content>
            </mat-sidenav-container>
        </div>
    </mat-card>
</div>
<!--<div *ngIf="!componentLoading && hasViewPagePermissions() && !isError" class="col-lg-12 col-md-12">-->

<!--    <div class="vertical-tab col-lg-12 col-md-12" role="tabpanel">-->
<!--        <div class="col-lg-2 col-md-2 left-panel">-->
<!--            <div class="side-heading">-->
<!--                Test Suites-->
<!--            </div>-->
<!--            <div class="left-panel-list">-->
<!--                <ul class="nav nav-tabs" role="tablist" >-->
<!--                    <li role="presentation" class="active"><a href="#{{resultsData[0]['startedAt']}}" (click)="setResult(resultsData[0]['id'], resultsData[0])"-->
<!--                                                              aria-controls="home" role="tab"-->
<!--                                                              data-toggle="tab"><div class="vertical-tab-date">{{resultsData[0]['name']}}</div>-->
<!--                        <div class="vertical-tab-session">{{getDataAndTime(resultsData[0]['startedAt'])}}</div></a>-->
<!--                    </li>-->

<!--                    <li *ngFor="let result of resultsData | slice:1" role="presentation"><a href="#{{result['startedAt']}}" (click)="setResult(result['id'], result)"-->
<!--                                                                                            aria-controls="profile"-->
<!--                                                                                            role="tab" data-toggle="tab"><div class="vertical-tab-date">{{result['name']}}</div>-->
<!--                        <div class="vertical-tab-session">{{getDataAndTime(result['startedAt'])}}</div></a></li>-->
<!--                </ul>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="tab-content tabs">-->
<!--            <div role="tabpanel" class="tab-pane fade in active col-md-10 col-lg-10 col-sm-10 col-xs-10">-->
<!--                <app-build-report *ngIf="!buildDataLoading && showBuild"-->
<!--                                 [reportName]="'Report'"-->
<!--                                 [buildData]="currentBuild"-->
<!--                                 [testSuiteResponse]="buildData"-->
<!--                ></app-build-report>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->
